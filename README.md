This is script that uses java classes generated by [wsimport] tool and based on them generates **Kotlin** classes with **[TikXml]** annotations.
wsimport is part of Java SDK, it is included also in Java provided with AndroidStudio in `android-studio\jre\bin\wsimport`

Generated Kotlin classes are intended to be used with TikXml Annotation processor. 
This script also generates extensions for `TikXml.Builder` to add any needed `TypeAdapter`s. 

If given WSDL contain any types that require adapters, there will be `extensions.kt` file alongside models. It have extensions for every such type and also single extension `addEnumAdapters()` to include all the types. (It is used currently only for enums, as other types adapters are generated by TikXml processor)

**Note:** remember to use `TikXml.Builder.addEnumAdapters()` if your WSDL contains **arrays of enums**, otherwise models will be unable to parse in runtime. 

**Note:** If models are using only single enum values, the `TypeConverter`s are used instead (they are embeded in @PropertyElement annotation for generated models)


### Example usage
First we need to run wsimport tool to generate java classes. For this example we will create models into `com.example.model` package.
```
wsimport -keep -p com.example.model -s java_gen -d temp {wsdl_link}
```
explanation: 
* `-keep` instructs tool to do not remove generated java code (by default it compiles them and only leave `.class` files).
* `-p {package}`  this will make classes be generated in proper java package also creating whole directory structure.
* `-s {dir_name}` root directory where java source code structure will be generated into. **Directory must exist before running the tool**.
* `-d {dir_name}` root directory where tool will compile java classes into. **Directory must exist before running the tool**. This directory can be removed afterwards.

After classes are generated just run this script passing directory from `-s` option as an argument:
```
javaSoap2kotlinTikxml.sh java_gen
```
This will mirror directory structure to `java_gen_kt` (`{dir_name}_kt`) with Kotlin classes.

##### Note
Please note that I have only tried it on Windows running wsimport from batch script and then running this script from Cygwin.

   [wsimport]: <https://docs.oracle.com/javase/8/docs/technotes/tools/unix/wsimport.html>
   [TikXml]: <https://github.com/Tickaroo/tikxml>
